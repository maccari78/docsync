<!-- app/views/appointment_mailer/confirmation_email.html.erb -->
<h1>Appointment Confirmed</h1>
<p>Dear <%= @appointment.patient.first_name %>,</p>
<p>Your appointment with <%= @appointment.professional.user.first_name %> <%= @appointment.professional.user.last_name %> has been confirmed.</p>
<p><strong>Date:</strong> <%= @appointment.date.strftime('%Y-%m-%d') %></p>
<p><strong>Time:</strong> <%= @appointment.time.strftime('%H:%M') %></p>
<p><strong>Clinic:</strong> <%= @appointment.clinic.name %></p>
<p><strong>Address:</strong> <%= @appointment.clinic.address %></p>

<h3>Add to Your Calendar</h3>
<p>
  <a target="_blank" style="color: #1a73e8; text-decoration: none;" href="https://www.google.com/calendar/render?action=TEMPLATE&add=reminder%3A15&dates=<%= @appointment.date.strftime('%Y%m%d') %>T<%= @appointment.time.strftime('%H%M%S') %>/<%= @appointment.date.strftime('%Y%m%d') %>T<%= (@appointment.time + 1.hour).strftime('%H%M%S') %>&details=Appointment+in+<%= CGI.escape(@appointment.clinic.name) %>%2C+<%= CGI.escape(@appointment.clinic.address) %>&location=<%= CGI.escape(@appointment.clinic.address) %>&text=Dental+appointment+with+<%= CGI.escape(@appointment.professional.user.first_name) %>+<%= CGI.escape(@appointment.professional.user.last_name) %>">Add to Google Calendar</a>
</p>

<h3>Directions to the Clinic</h3>
<p>
  <a target="_blank" style="color: #1a73e8; text-decoration: none;" href="https://www.google.com/maps/dir/?api=1&destination=<%= CGI.escape(@appointment.clinic.address) %>">View on Google Maps</a>
</p>

<p>Thank you for choosing our service!</p>
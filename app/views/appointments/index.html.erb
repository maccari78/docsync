<div class="container mt-5">
  <h1 class="mb-4">Appointments</h1>
  <div class="mb-3">
    <%= link_to "New Appointment", new_appointment_path, class: "btn btn-primary" %>
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Patient</th>
        <th>Professional</th>
        <th>Clinic</th>
        <th>Date</th>
        <th>Time</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @appointments.each do |appointment| %>
        <tr>
          <td><%= appointment.patient&.email || 'N/A' %></td>
          <td><%= appointment.professional&.user&.email || 'N/A' %></td>
          <td><%= appointment.clinic&.name || 'N/A' %></td>
          <td><%= appointment.date %></td>
          <td><%= appointment.time %></td>
          <td><%= appointment.status %></td>
          <td>
            <%= link_to "Show", appointment_path(appointment), class: "btn btn-sm btn-info me-1" %>
            <%= link_to "Edit", edit_appointment_path(appointment), class: "btn btn-sm btn-warning me-1" %><%= button_to "Delete", 
              appointment_path(appointment), 
              method: :delete, 
              form: { data: { turbo_confirm: "Are you sure?" } }, 
              class: "btn btn-sm btn-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>